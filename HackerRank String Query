#include <bits/stdc++.h>
using namespace std;

vector<int> compute(vector<string> &words, map<string, vector<int>> &Map) {
    map<int, int> freq;
    for(int i = 0; i < Map[words[0]].size(); i++) {
        freq[Map[words[0]][i]]++;
    }
    for(int i = 1; i < words.size(); i++) {
        map<int, int> freq1;
        for(int j = 0; j < Map[words[i]].size(); j++) {
            freq1[Map[words[i]][j]]++;
        }
        for(int j = 0; j < Map[words[i]].size(); j++) {
            freq[Map[words[i]][j]] = min(freq[Map[words[i]][j]], freq1[Map[words[i]][j]]);
        }
    }
    vector<int> ans;
    for(auto iter: freq) {
        if(iter.second == 0) {
            vector<int> ans1;
            ans1.push_back(-1);
            return ans1;
        }
        
        ans.push_back(iter.first);
    }
    return ans;
}

int main() {
	// your code goes here
	int n;
	cin >> n;
	string sentence[n];
	map<string, vector<int>> Map;
	getline(cin, sentence[0]);
	for(int i = 0; i < n; i++) {
	    getline(cin, sentence[i]);
	    cout << sentence[i] << endl;
	}
	for(int i = 0; i < n; i++) {
	    sentence[i] += " ";
	    string word = "";
	    for(int j = 0; j < sentence[i].length(); j++) {
	        if(sentence[i][j] != ' ') 
	        word += sentence[i][j];
	        else {
	            Map[word].push_back(i);
	            word = "";
	        }
	    }
	}
	for(auto iter: Map) {
	    for(auto it: iter.second)
	    cout << it << " ";
	    cout << endl;
	}
	int q;
	cin >> q;
	vector<vector<int>> ans(q, vector<int>());
	string queries[n];
	getline(cin, queries[0]);
	for(int i = 0; i < n; i++) {
	    getline(cin, queries[i]);
	    cout << queries[i] << endl;
	}
	for(int i = 0; i < n; i++) {
	    queries[i] += " ";
	    string word = "";
	    vector<string> words;
	    for(int j = 0; j < queries[i].length(); j++) {
	        if(queries[i][j] != ' ') 
	        word += queries[i][j];
	        else {
	            words.push_back(word);
	            word = "";
	        }
	    }
	    ans[i].push_back(compute(words, Map));
	}
	for(int i = 0; i < ans.size(); i++) {
	    for(int j = 0; j < ans[i].size(); j++) {
	        cout << ans[i][j] << " ";
	    }
	    cout << endl;
	}
	return 0;
}
